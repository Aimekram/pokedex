(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],{15:function(e,t,a){e.exports=a(23)},20:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),s=(a(20),a(21),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Pokedex"))}),l=a(13),o=a(2),u=a.n(o),m=a(10),h=a(6),d=a(7),p=a(1),f=a(9),g=a(8),v=a(14),k=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={front:!0},n.flip=n.flip.bind(Object(p.a)(n)),n.mapStats=n.mapStats.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"flip",value:function(){this.setState((function(e){return{front:!e.front}}))}},{key:"mapStats",value:function(e){var t=[];return e.forEach((function(e){var a=e.stat.name,n=e.base_stat,r=Object(v.a)({},a,n);t.push(r)})),t}},{key:"render",value:function(){var e=this.state.front,t=this.props,a=t.data,n=t.windowWidth,c=a.name,i=a.sprites,s=a.types,l=a.stats,o=s.map((function(e){return e.type.name})).join(" / "),u=this.mapStats(l),m=n>=370?150:100;return r.a.createElement("div",{onClick:this.flip},e?r.a.createElement("div",{className:"pokemoncard pokemoncard_front"},r.a.createElement("img",{className:"pokemoncard_img",src:i.front_default,alt:c}),r.a.createElement("h2",{className:"pokemoncard_name"},c)):r.a.createElement("div",{className:"pokemoncard pokemoncard_back"},r.a.createElement("h3",{className:"pokemoncard_subtitle"},c," stats:"),r.a.createElement("ul",{className:"pokemoncard_stats"},u.map((function(e){return r.a.createElement("li",{className:"pokemoncard_stats_item",key:Object.keys(e)},r.a.createElement("span",null,Object.keys(e),": "),r.a.createElement("span",{className:"pokemoncard_stats_fullbar",style:{width:"".concat(m,"px")}},r.a.createElement("span",{className:"pokemoncard_stats_progressbar ".concat(Object.keys(e)),style:{width:"".concat(100===m?Math.floor(100*Object.values(e)/150):Math.floor(150*Object.values(e)/250),"px")}},Object.values(e))))}))),r.a.createElement("p",null,"Type: ",o)))}}]),a}(n.Component),b=a(4),E=function(e){var t=e.totalItems,a=e.itemsPerPage,n=e.changePage,c=e.currentPage,i=Math.ceil(t/a),s=Object(b.a)(Array(Math.ceil(t/a))).map((function(e,t){return t+1})),l=c<=4?3:1,o=c>=s.length-3?3:1,u=function(){return s.length>5?c<=4?s.slice(0,5):c>s.length-4?s.slice(-5,s.length):s.filter((function(e){return e>=c-l&&e<=c+o})):s};return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},(s.length>5?c<5?[].concat(Object(b.a)(u()),["...",i]):c>=s.length-3?[1,"..."].concat(Object(b.a)(u())):[1,"..."].concat(Object(b.a)(u()),["...",i]):s).map((function(e,t){return r.a.createElement("li",{key:t,className:"pagination_item"},r.a.createElement("a",{className:e===c?"pagination_link currentPage":"pagination_link",onClick:function(){return n(e)},href:"#!"},e))}))))},w=function(e){var t=e.handleFilterChange,a=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","dragon","dark","fairy","unknown","shadow"].sort();return r.a.createElement("form",null,r.a.createElement("select",{className:"filter",onChange:t},r.a.createElement("option",{value:"none"},"show all Pokemons"),a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))},y=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={data:[],filteredData:[],isFetched:!1,currentPage:1,itemsPerPage:12,filterValue:"none",windowWidth:320},n.fetchData=n.fetchData.bind(Object(p.a)(n)),n.fetchMoreData=n.fetchMoreData.bind(Object(p.a)(n)),n.getSinglePage=n.getSinglePage.bind(Object(p.a)(n)),n.changePage=n.changePage.bind(Object(p.a)(n)),n.handleFilterChange=n.handleFilterChange.bind(Object(p.a)(n)),n.filterData=n.filterData.bind(Object(p.a)(n)),n.handleResize=n.handleResize.bind(Object(p.a)(n)),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleResize(),window.addEventListener("resize",this.handleResize),e.prev=2,e.next=5,this.fetchData("https://pokeapi.co/api/v2/pokemon?limit=150");case 5:return t=e.sent,e.next=8,this.fetchMoreData(t.results);case 8:a=e.sent,this.setState({data:a,filteredData:a}),this.setState({isFetched:!0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){}},{key:"fetchData",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMoreData",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(l.a)(t),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=18;break}return c=r.value,e.prev=6,e.next=9,this.fetchData(c.url);case 9:i=e.sent,a.push(i),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:e.next=4;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(2),n.e(e.t1);case 23:return e.prev=23,n.f(),e.finish(23);case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e,this,[[2,20,23,26],[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSinglePage",value:function(e,t,a){var n=(t-1)*a;return e.slice(n,n+a)}},{key:"changePage",value:function(e){"..."!==e&&this.setState({currentPage:e})}},{key:"handleFilterChange",value:function(e){this.setState({filterValue:e.target.value},this.filterData)}},{key:"filterData",value:function(){var e=this.state,t=e.data,a=e.filterValue,n="none"===a?t:t.filter((function(e){return e.types.map((function(e){return e.type.name})).includes(a)}));this.setState({filteredData:n,currentPage:1})}},{key:"handleResize",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"render",value:function(){var e=this.state,t=e.isFetched,a=e.itemsPerPage,n=e.currentPage,c=e.windowWidth,i=e.filteredData,s=this.getSinglePage(i,n,a),l=i.length>a;return t?r.a.createElement("main",{className:"main"},r.a.createElement(w,{handleFilterChange:this.handleFilterChange}),l&&r.a.createElement(E,{totalItems:i.length,currentPage:n,itemsPerPage:a,changePage:this.changePage}),r.a.createElement("ul",{className:"pokemonlist"},0===i.length?r.a.createElement("p",{className:"message"},"no items found"):s.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(k,{data:e,windowWidth:c}))}))),l&&r.a.createElement(E,{totalItems:i.length,currentPage:n,itemsPerPage:a,changePage:this.changePage})):r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"pokeball"},r.a.createElement("div",{className:"upper"},r.a.createElement("div",{className:"inner"})),r.a.createElement("div",{className:"middle"}),r.a.createElement("div",{className:"lower"},r.a.createElement("div",{className:"inner"}))),r.a.createElement("p",{className:"message"},"Loading..."))}}]),a}(n.Component),j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.b9e83f89.chunk.js.map